---
import MainLayout from "@/layouts/MainLayout.astro";

import {SignIn, SignOut} from 'auth-astro/components';
import {getSession} from 'auth-astro/server';

const {user} = Astro.locals

const session = await getSession(Astro.request);
---

<MainLayout title="Home">
	
		<SignIn provider="github" class="btn btn-alert">
			Acceder con Github
		</SignIn>

		<pre>
			<code>
				{ JSON.stringify(session, null, 2) }
			</code>
		</pre>

<SignOut class="btn btn-warning">
		salir
</SignOut> 
<pre>
	<code>
		{ JSON.stringify(user, null, 2) }
	</code>
</pre>
</MainLayout>